# Database administration

Managing roles, and permissions, creating databases, installing extensions


Three main configuration files control operation of a PostgreSQL server:

    - posgresql.conf: Controls the general settings, such as memory allocation, default storage location for new
    databases, the IP addresses that PostgreSQL listens on,
    location of logs, and plenty more

    - pg_hba.conf:
        Controls access to the server, dictating which users can log in to which databases, which IP addresses can connect, and which authentication scheme to accept.

    - pg_hba.conf: controls access to the server, dictating which users can lon in to which databases, which IP addresses can connect, and which authentication scheme to accept.

    - pg_ident.conf: If present, this file maps an authenticated
    OS login to a PostgreSQL server. People sometimes map
    the OS root account to the PostgreSQL superuser account.
    "postgres"


    These confiuguration files can be found in the main
    PostgreSQL DATA FOLDER; you can edit them using any text
    editor or the Admin Pack in pgAdmin;


    ```sql

    SELECT name, setting FROM pg_settings WHERE category = 'File Locations';
    ```

## Making Configurations take effect

Some configuration changes require a PostgreSQL service
restart, which closes active connections from clients. Other
changes require just a reload. Existnt users with active connections ill not be affected during a reload. If you're not
sure whether a configuration change requires a reload or restart
look under the context setting associated with a configuration.

```bash

pg_ctcl reload -D your_directory_here

```

 ```sql

 SELECT pg_reload_conf();

 ```

#### Restarting

More fundamental configuration changes require a restart. You can perform a restart by stopping and restarting the postgres servrice (daemon).

```bash

service postgresql-9.6 restart

```        

##### The postgresql.conf File

The postgresql.conf controls the life-sustaining settings of the PostgreSQL server.
You can override many settings at the database, role, session, and even function levels.    

Version 9.4 introduced an important change: instead of editing postgresql.conf
directly, you should override settings using an iadditional file called postgresql.auto.conf
we further recommend that you don't touch the postgresql.conf and place any custom    


An easy way to read the curret settings without opening the configuraiton files
is to query the view named pg_settings.

=> The context is the scope of the setting. Some setting have a wider effeect than
others, depending on their context. User settings


#### The pga_hba.conf file

The pga_hba.conf file controls which IP addresses and users can connect to the database.
Further more, it dictates the authentication protocol that the client must follow.
Changes to the file require at least a reload to take effect.


## Authentication Methods

PostgreSQL gives you many choices for authenticating users.  

- Trust: this is the least secure authentication, essentially no password is needed.
As long as the user and database exist in the system and the request comes from an
IP within the allowed range, the user can connect. you should implement trust
only for local connections or private networks 
